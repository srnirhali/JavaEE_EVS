<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition
    template="/WEB-INF/templates/page-layout.xhtml"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:param name="pageHeadline" value="${msg.loginPageHeadline}"/>
    <ui:define name="content">
        <b:row>
            <b:column span="12">
                <h:link outcome="homepage" value="${msg.linkToHomepage}"/>
            </b:column>
        </b:row>
        <b:alert severity="info">
            ${msg.loginInfoMessage}
        </b:alert>
        <!-- it's not possible to use a b:form or h:form for the login dialog -->
        <!-- since login is *not* processed by JSF -->
        <form class="form form-horizontal" role="form" method="post" action="j_security_check" name="loginForm">
            <legend>${msg.loginPleaseLogin}</legend>
            <div class="form-group">
                <label class="control-label col-md-2" for="username">${msg.loginUsernameLabel}</label>
                <div class="col-md-4">
                    <input class="form-control" placeholder="${msg.loginUsernamePlaceholder}" autofocus="true" type="text" id="username" name="j_username" autocomplete="off"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-md-2" for="password">${msg.loginPasswordLabel}</label>
                <div class="col-md-4">
                    <div class="input-group">
                        <input class="form-control" type="password" placeholder="${msg.loginPasswordPlaceholder}" id="password" name="j_password" autocomplete="off"/>
                        <span class="input-group-btn">
                            <button class="btn btn-success" type="submit">
                                ${msg.loginButtonLabel} <span class="glyphicon glyphicon-log-in"></span>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </form>

        <!--
        this page is also registered as login error page in web.xml
        show error message only if j_username parameter is set
        (this happens after a failed login attempt)
        -->
        <b:alert severity="danger" rendered="${request.parameterMap.containsKey('j_username')}">
            ${msg.loginErrorMessage}
        </b:alert>
    </ui:define>
</ui:composition>
